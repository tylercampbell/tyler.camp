---
layout: layout.page.njk
bgcolor: '#f87171'  #red-400
---

{% svgsprite %}

<main style="height: 100svh;" class="h-screen w-full grid place-content-center place-items-center gap-y-8 px-2">
  <div class="-z-20 opacity-75 overflow-hidden rounded-full">{% picture "ty-memoji-v1.jpg", "Tyler Campbell Memoji", "w-36 aspect-square blur-sm" %}</div>
  <h1 class="font-mono uppercase text-red-700">Tyler Campbell, the website</h1>
  {% include 'form.njk' %}
</main>



<script>
  // form
  let myForm = document.querySelector('#contact form');
  let message = document.querySelector('#contact form textarea');
  let submit = document.querySelector('#contact form button');
  let success = document.querySelector('#success');
  // form - disable submit button if textarea empty
  function btnActivation(){
    if (!message.value.length) {
      submit.disabled = true;            
    } else {
      submit.disabled = false;
    }           
  }
  // form - ajax
  myForm.addEventListener('submit', e => {
    e.preventDefault();
    const formData = new FormData(myForm);
    fetch(myForm.getAttribute('action'), {
      method: 'POST',
      headers: {
        'Accept': 'application/x-www-form-urlencoded;charset=UTF-8',
        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
      },
      body: new URLSearchParams(formData).toString()
    })
    .then(res => {
      if (res) {
        myForm.classList.add('hidden')
        success.classList.replace('hidden', 'block')
      }
    });
  });
</script>